{"version":3,"file":"static/js/653.f5c40856.chunk.js","mappings":"sSAEMA,E,MAAsBC,GAAAA,OAAa,CACrCC,QAAS,iCAGAC,EAAS,mCAAG,sGACAH,EAAoB,gEADpB,uBACfI,EADe,EACfA,KADe,kBAEhBA,EAAKC,SAFW,2CAAH,qDAKTC,EAAQ,mCAAG,WAAOC,GAAP,yFACCP,EAAoB,UAAD,OAAWO,EAAX,6DADpB,uBACdH,EADc,EACdA,KADc,kBAEfA,GAFe,2CAAH,sDAKRI,EAAO,mCAAG,WAAOD,GAAP,yFACEP,EAAoB,UAAD,OAAWO,EAAX,qEADrB,uBACbH,EADa,EACbA,KADa,kBAEdA,EAAKK,MAFS,2CAAH,sDAKPC,EAAU,mCAAG,WAAOH,GAAP,yFACDP,EAAoB,UAAD,OAAWO,EAAX,4EADlB,uBAChBH,EADgB,EAChBA,KADgB,kBAEjBA,EAAKC,SAFY,2CAAH,sDAKVM,EAAW,mCAAG,WAAOC,GAAP,yFACFZ,EAAoB,+EAAD,OAAgFY,EAAhF,gCADjB,uBACjBR,EADiB,EACjBA,KADiB,kBAElBA,EAAKC,SAFa,2CAAH,qD,+ICzBxB,GAAgB,KAAO,qBAAqB,MAAQ,sBAAsB,IAAM,oBAAoB,KAAO,qBAAqB,KAAO,sB,SCqFvI,EAhFe,WACb,IAAMQ,GAAWC,EAAAA,EAAAA,MACjB,GAA8BC,EAAAA,EAAAA,UAAS,IAAvC,eAAOV,EAAP,KAAgBW,EAAhB,KACIC,EAAQ,GAEZ,GAAuBC,EAAAA,EAAAA,MACjBC,GADN,eAC0BC,IAAI,SAkBxBC,EAAW,mCAAG,8GAEKV,EAAAA,EAAAA,IAAYM,GAFjB,UAGM,KADhBK,EAFU,QAGLC,OAHK,iDAMhBP,EAAWM,GANK,gDAQhBE,QAAQC,IAAR,MARgB,yDAAH,qDAoBjB,OARAC,EAAAA,EAAAA,YAAU,WACK,OAATP,IAEFF,EAAQE,EACRE,IAEH,GAAE,CAACF,KAGF,iCACE,kBAAMQ,SAtCO,SAAAC,GACfA,EAAGC,iBAEH,IAAMC,EAAOF,EAAGG,cACVC,EAASF,EAAKG,SAASD,OAAOE,MAErB,KAAXF,IACFf,EAAQe,EACRX,IAIFR,EAAS,iBAAD,OAAkBI,IAC1Ba,EAAKK,QACN,EAwB6BC,UAAWC,EAAAA,KAArC,WACE,4BACE,kBACElB,KAAK,SACLmB,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,wBACZL,UAAWC,EAAAA,WAGf,mBAAQC,KAAK,SAASF,UAAWC,EAAAA,IAAjC,wBAKF,eAAID,UAAWC,EAAAA,KAAf,SACGhC,EAAQqC,KAAI,gBAAGnC,EAAH,EAAGA,GAAIoC,EAAP,EAAOA,MAAP,OACX,eAAaP,UAAWC,EAAAA,KAAxB,UACE,SAAC,KAAD,CACEO,GAAE,kBAAarC,GACfsC,MAAO,CAAEC,KAAK,iBAAD,OAAmB3B,IAChCiB,UAAWC,EAAAA,KAHb,SAKGM,KANIpC,EADE,OAYf,SAAC,KAAD,MAGL,C","sources":["api/api.js","webpack://react-homework-template/./src/components/Movies/Movies.module.css?9f30","components/Movies/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst instanceAxiosMovies = axios.create({\n    baseURL: 'https://api.themoviedb.org/3',\n});\n\nexport const getTrends = async () => {\n  const { data } = await instanceAxiosMovies(`/trending/movie/day?api_key=9d2b0029c30fb6f0691793e32bc4db6f`);\n  return data.results;\n};\n\nexport const getMovie = async (id) => {\n  const { data } = await instanceAxiosMovies(`/movie/${id}?api_key=9d2b0029c30fb6f0691793e32bc4db6f&language=en-US`);\n  return data;\n};\n\nexport const getCast = async (id) => {\n  const { data } = await instanceAxiosMovies(`/movie/${id}/credits?api_key=9d2b0029c30fb6f0691793e32bc4db6f&language=en-US`);\n  return data.cast;\n};\n\nexport const getReviews = async (id) => {\n  const { data } = await instanceAxiosMovies(`/movie/${id}/reviews?api_key=9d2b0029c30fb6f0691793e32bc4db6f&language=en-US&page=1`);\n  return data.results;\n};\n\nexport const searchMovie = async (query) => {\n  const { data } = await instanceAxiosMovies(`/search/movie?api_key=9d2b0029c30fb6f0691793e32bc4db6f&language=en-US&query=${query}&page=1&include_adult=false`);\n  return data.results;\n};","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Movies_form__mp42q\",\"input\":\"Movies_input__OE3ef\",\"btn\":\"Movies_btn__0UPE6\",\"item\":\"Movies_item__+Yifn\",\"link\":\"Movies_link__0oDWE\"};","import { useState, useEffect } from 'react';\nimport { Link, Outlet, useNavigate, useSearchParams } from 'react-router-dom';\n\nimport { searchMovie } from 'api/api';\nimport styles from './Movies.module.css';\n\nconst Movies = () => {\n  const navigate = useNavigate();\n  const [results, setResults] = useState([]);\n  let movie = '';\n\n  const [searchParams] = useSearchParams();\n  const name = searchParams.get('query');\n\n  const onSubmit = ev => {\n    ev.preventDefault();\n\n    const form = ev.currentTarget;\n    const search = form.elements.search.value;\n\n    if (search !== '') {\n      movie = search;\n      fetchSearch();\n    } else {\n        return;\n    }\n    navigate(`/movies?query=${movie}`);\n    form.reset();\n  };\n\n  const fetchSearch = async () => {\n    try {\n      const movies = await searchMovie(movie);\n      if (movies.length === 0) {\n        return;\n      }\n      setResults(movies);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    if (name !== null) {\n      // eslint-disable-next-line\n      movie = name;\n      fetchSearch();\n    }\n  }, [name]);\n\n  return (\n    <>\n      <form onSubmit={onSubmit} className={styles.form}>\n        <label>\n          <input\n            name=\"search\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Enter your request...\"\n            className={styles.input}\n          />\n        </label>\n        <button type=\"submit\" className={styles.btn}>\n          Search\n        </button>\n      </form>\n\n      <ol className={styles.list}>\n        {results.map(({ id, title }) => (\n          <li key={id} className={styles.item}>\n            <Link\n              to={`/movies/${id}`}\n              state={{ from: `/movies?query=${name}` }}\n              className={styles.link}\n            >\n              {title}\n            </Link>\n          </li>\n        ))}\n      </ol>\n      <Outlet />\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["instanceAxiosMovies","axios","baseURL","getTrends","data","results","getMovie","id","getCast","cast","getReviews","searchMovie","query","navigate","useNavigate","useState","setResults","movie","useSearchParams","name","get","fetchSearch","movies","length","console","log","useEffect","onSubmit","ev","preventDefault","form","currentTarget","search","elements","value","reset","className","styles","type","autoComplete","autoFocus","placeholder","map","title","to","state","from"],"sourceRoot":""}